<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
      *{
      box-sizing: border-box;
      font-family: "Roboto", serif;
     }

      body{
        margin-top:50px;
        width: 100%;
        height: 100%;
      }
      h2{
        color: #5F5C5C;
      }
      form {
        max-width: 600px;
        margin: auto;
        border: 1px solid #ffffff80;
        backdrop-filter: blur(5px);
        background: #ffffff1a;
        box-shadow: 0 25px 45px #0000001a;
        padding:10px;
        border-radius: 5px;
      }
      label {
        display: block;
        margin-top: 10px;
        color: #5F5C5C;
        font-size: 18px;
        font-weight: 600;
      }
      input, textarea, select {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        box-sizing: border-box;
        background: #ffffff33;
        /* color: white; */
        color: #5F5C5C;
        font-size: 16px;;
        font-weight: 400;
        border-radius: 5px;
        outline: none;
        border: 1px solid #ffffff80;
        box-shadow: 0 5px 15px #0000001a;
      }
      input[type="submit"] {
        /* background-color: #4CAF50; */
        /* background-color: #5c5b5b; */
        background-color: white;
        /* color: white; */
        color: #5F5C5C;
        cursor: pointer;
        margin-top: 15px;
        font-size: 16px;
        font-weight: 600;
      }
      input[type="submit"]:hover {
         background-color: #3273dc;
         color: white;
         transform: scale(1.03);
      }


    .colour {
      position: absolute;
      filter: blur(150px);
      z-index: -1;
    }

    .colour:nth-child(1) { left:20rem;top:5rem; width: 20rem; height: 20rem; background: #7c7b7b; }
    .colour:nth-child(2) { left: 5rem; top:45rem; width: 30rem; height: 20rem; background: #7c7b7b; }
    .colour:nth-child(3) { right: 10rem; bottom: 2rem; width: 30rem; height: 20rem; background: #7c7b7b; }

    .box1, .box2, .box3 {
      width: 7rem;
      height: 7rem;
      background: #ffffff1a;
      box-shadow: 0 25px 45px #0000001a;
      border: 1px solid #ffffff80;
      border-radius: 10px;
      position: absolute;
    }

    .box1 { left: 24%; bottom: 5%; }
    .box2 { left: 25%; top: 0.1%; }
    .box3 { right: 25%; bottom: 20%; }
    img{
      width: 570px;
      height: 300px;
      object-fit: cover;
      margin: auto;
      display: block;
      border-radius: 5px;
    }
    </style>
  </head>
  <body>
    <div class="colour"></div>
    <div class="colour"></div>
    <div class="colour"></div>

    <div class="box1"></div>
    <div class="box2"></div>
    <div class="box3"></div>
    <h2 align="center">MOU Data Entry Form</h2>
    <form id="mouForm" onsubmit="handleSubmit(event)">
      <div>
        <img src="./assets/mou.jpg"alt="">
      </div>
      <label for="institute">Industry/Institute Name:</label>
      <input type="text" id="institute" name="Institute" required>
      <div id="instituteError" class="error"></div>

      <label for="duration">Duration of MOU:</label>
      <input type="text" id="duration" name="Duration" required>
      <div id="durationError" class="error"></div>

      <label for="facultyName">Faculty Name who signed the MOU:</label>
      <input type="text" id="facultyName" name="Faculty Name" required>
      <div id="facultyNameError" class="error"></div>

      <label for="facultyDetails">Faculty Details involved in the MOU:</label>
      <textarea id="facultyDetails" name="Faculty Details" required></textarea>
      <div id="facultyDetailsError" class="error"></div>
      <!-- <label for="academicYear">Academic Year:</label>
      <input type="text" id="academicYear" name="Academic Year" placeholder="e.g., 2024-2025" required> -->

      <label for="academicYear">Academic Year:</label>
      <select id="academicYear" name="Academic Year" required>
        <option value="">-- Select Academic Year --</option>
        <option value="2015-2016">2015-2016</option>
        <option value="2016-2017">2016-2017</option>
        <option value="2017-2018">2017-2018</option>
        <option value="2018-2019">2018-2019</option>
        <option value="2019-2020">2019-2020</option>
        <option value="2020-2021">2020-2021</option>
        <option value="2021-2022">2021-2022</option>
        <option value="2022-2023">2022-2023</option>
        <option value="2023-2024">2023-2024</option>
        <option value="2024-2025">2024-2025</option>
        <option value="2025-2026">2025-2026</option>
      </select>
      <div id="academicYearError" class="error"></div>

      <label for="purpose">Purpose of MOU:</label>
      <textarea id="purpose" name="Purpose" required></textarea>
       <div id="purposeError" class="error"></div>

      <label for="outcomes">Outcomes of MOU:</label>
      <textarea id="outcomes" name="Outcomes" required></textarea>
      <div id="outcomesError" class="error"></div>

      <!-- Hidden field to capture timestamp -->
      <input type="hidden" id="timestamp" name="Timestamp">

      <input type="submit" value="Submit">
    </form>
    <script src="https://code.createjs.com/1.0.0/tweenjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <!-- <script>
     document.getElementById("mouForm").addEventListener("submit", function (e) {
        e.preventDefault();
    
        // Validation
        function validateForm() {
          const institute = document.getElementById("institute").value.trim();
          const duration = document.getElementById("duration").value.trim();
          const facultyName = document.getElementById("facultyName").value.trim();
          const facultyDetails = document.getElementById("facultyDetails").value.trim();
          const academicYear = document.getElementById("academicYear").value.trim();
          const purpose = document.getElementById("purpose").value.trim();
          const outcomes = document.getElementById("outcomes").value.trim();
    
          if (!institute || !duration || !facultyName || !facultyDetails || !academicYear || !purpose || !outcomes) {
            alert("Please fill in all the required fields.");
            return false;
          }
    
          return true;
        }
    
        if (!validateForm()) return;
    
        // Add current timestamp
        document.getElementById("timestamp").value = new Date().toISOString();
    
        const formData = new FormData(this);
        const keyValuePairs = [];
        for (let pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + encodeURIComponent(pair[1]));
        }
        const formDataString = keyValuePairs.join("&");
    
        // Optional: Display a simple submitting message (you can add this span in HTML)
        let message = document.getElementById("message");
        if (!message) {
          message = document.createElement("div");
          message.id = "message";
          message.style.textAlign = "center";
          message.style.marginTop = "15px";
          this.appendChild(message);
        }
        message.textContent = "Submitting...";
        message.style.color = "#555";
    
        fetch("https://script.google.com/macros/s/AKfycbzDHjCCybk9fkSOHNks6-hF_g0mQDQV5s7jvWtTVzVIbcrVf5iQkGGtvt_Ktr9Ma241Xg/exec", {
          method: "POST",
          redirect: "follow",
          body: formDataString,
          headers: {
            "Content-Type": "text/plain;charset=utf-8",
          },
        })
        .then(response => {
          if (!response.ok) throw new Error("Network response was not ok.");
          return response.text();
        })
        .then(data => {
          message.textContent = "MOU data submitted successfully!";
          message.style.color = "green";
          document.getElementById("mouForm").reset();
    
          setTimeout(() => {
            message.textContent = "";
          }, 2500);
    
          // Optional redirect after submission
          // window.location.href = "success.html";
        })
        .catch(error => {
          console.error("Error:", error);
          message.textContent = "An error occurred while submitting the form.";
          message.style.color = "red";
        });
      });
TweenMax.from('body',{opacity:0,duration:1,y:-10});
      TweenMax.from('.box1',{opacity:0,duration:1,y:-12});
      TweenMax.from('.box2',{opacity:0,duration:1,y:-12});
      TweenMax.from('.box3',{opacity:0,duration:1,y:-12});
      gsap.to(".box1, .box2, .box3", {
        y: 50,
        duration: 4,
        repeat: -1,
        yoyo: true,
      });
    </script>  -->
     


   <script>
  // Add blur event listeners for real-time validation
  document.getElementById('institute').addEventListener('blur', validateInstitute);
  document.getElementById('duration').addEventListener('blur', validateDuration);
  document.getElementById('facultyName').addEventListener('blur', validateFacultyName);
  document.getElementById('facultyDetails').addEventListener('blur', validateFacultyDetails);
  document.getElementById('academicYear').addEventListener('blur', validateAcademicYear);
  document.getElementById('purpose').addEventListener('blur', validatePurpose);
  document.getElementById('outcomes').addEventListener('blur', validateOutcomes);
   function validateForm() {
          const institute = document.getElementById("institute").value.trim();
          const duration = document.getElementById("duration").value.trim();
          const facultyName = document.getElementById("facultyName").value.trim();
          const facultyDetails = document.getElementById("facultyDetails").value.trim();
          const academicYear = document.getElementById("academicYear").value.trim();
          const purpose = document.getElementById("purpose").value.trim();
          const outcomes = document.getElementById("outcomes").value.trim();
          
        }
        
      function validateInstitute() {
        const institute = document.getElementById('institute').value.trim();
        const errorElement = document.getElementById('instituteError');
        
        if (institute === '') {
          errorElement.textContent = 'Institute name is required';
          return false;
        }
        if (institute.length < 3) {
          errorElement.textContent = 'Institute name must be at least 3 characters';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
      
      function validateDuration() {
        const duration = document.getElementById('duration').value.trim();
        const errorElement = document.getElementById('durationError');
        const durationRegex = /^\d+\s*(years?|months?)$/i;
        
        if (duration === '') {
          errorElement.textContent = 'Duration is required';
          return false;
        }
        if (!durationRegex.test(duration)) {
          errorElement.textContent = 'Please enter valid duration (e.g., "6 months")';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
       
      function validateFacultyName() {
        const facultyName = document.getElementById('facultyName').value.trim();
        const errorElement = document.getElementById('facultyNameError');
        
        if (facultyName === '') {
          errorElement.textContent = 'Faculty name is required';
          return false;
        }
        if (!/^[A-Za-z .]+$/.test(facultyName)) {
          errorElement.textContent = 'Name should only contain letters and spaces';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
     
      function validateFacultyDetails() {
        const facultyDetails = document.getElementById('facultyDetails').value.trim();
        const errorElement = document.getElementById('facultyDetailsError');
        
        if (facultyDetails === '') {
          errorElement.textContent = 'Faculty details are required';
          return false;
        }
        if (facultyDetails.length < 20) {
          errorElement.textContent = 'Please provide more detailed information (at least 20 characters)';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
     
      function validateAcademicYear() {
        const academicYear = document.getElementById('academicYear').value;
        const errorElement = document.getElementById('academicYearError');
        
        if (academicYear === '') {
          errorElement.textContent = 'Academic year is required';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
      
      function validatePurpose() {
        const purpose = document.getElementById('purpose').value.trim();
        const errorElement = document.getElementById('purposeError');
        
        if (purpose === '') {
          errorElement.textContent = 'Purpose is required';
          return false;
        }
        if (purpose.length < 30) {
          errorElement.textContent = 'Please provide more detailed purpose (at least 30 characters)';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
       
    function validateOutcomes() {
      const outcomes = document.getElementById('outcomes').value.trim();
        const errorElement = document.getElementById('outcomesError');
        
        if (outcomes === '') {
          errorElement.textContent = 'Outcomes are required';
          return false;
        }
        if (outcomes.length < 30) {
          errorElement.textContent = 'Please provide more detailed outcomes (at least 30 characters)';
          return false;
        }
        errorElement.textContent = '';
        return true;
      }
  // Master validation
  function validateForm() {
    return (
      validateInstitute() &&
      validateDuration() &&
      validateFacultyName() &&
      validateFacultyDetails() &&
      validateAcademicYear() &&
      validatePurpose() &&
      validateOutcomes()
    );
  }

  // Handle form submission
  function handleSubmit(e) {
    e.preventDefault();

    if (!validateForm()) {
      alert("Please fix the validation errors before submitting.");
      return;
    }

    // Add timestamp
    document.getElementById("timestamp").value = new Date().toISOString();

    const form = document.getElementById("mouForm");
    const formData = new FormData(form);
    const keyValuePairs = [];
    for (let pair of formData.entries()) {
      keyValuePairs.push(pair[0] + "=" + encodeURIComponent(pair[1]));
    }
    const formDataString = keyValuePairs.join("&");

    let message = document.getElementById("message");
    if (!message) {
      message = document.createElement("div");
      message.id = "message";
      message.style.textAlign = "center";
      message.style.marginTop = "15px";
      form.appendChild(message);
    }

    message.textContent = "Submitting...";
    message.style.color = "#555";

    fetch("https://script.google.com/macros/s/AKfycbzDHjCCybk9fkSOHNks6-hF_g0mQDQV5s7jvWtTVzVIbcrVf5iQkGGtvt_Ktr9Ma241Xg/exec", {
      method: "POST",
      redirect: "follow",
      body: formDataString,
      headers: {
        "Content-Type": "text/plain;charset=utf-8",
      },
    })
    .then(response => {
      if (!response.ok) throw new Error("Network response was not ok.");
      return response.text();
    })
    .then(data => {
      message.textContent = "MOU data submitted successfully!";
      message.style.color = "green";
      form.reset();
      setTimeout(() => message.textContent = "", 3000);
    })
    .catch(error => {
      console.error("Error:", error);
      message.textContent = "An error occurred while submitting the form.";
      message.style.color = "red";
    });
  }

  // Add back the event listener
  document.getElementById("mouForm").addEventListener("submit", handleSubmit);
    TweenMax.from('body',{opacity:0,duration:1,y:-10});
    TweenMax.from('.box1',{opacity:0,duration:1,y:-12});
    TweenMax.from('.box2',{opacity:0,duration:1,y:-12});
    TweenMax.from('.box3',{opacity:0,duration:1,y:-12});
    gsap.to(".box1, .box2, .box3", {
      y: 50,
      duration: 4,
      repeat: -1,
      yoyo: true,
    });
</script>
</body>
</html>